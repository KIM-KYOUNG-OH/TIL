# Chapter 3 역할, 책임, 협력

## 2장 정리
추상 클래스, 인터페이스을 조합해 객체지향 프로그램을 구조화한다.  
다형성은 지연 바인딩 메커니즘으로 구현된다.  
상속은 코드를 재사용할 수 있는 가장 널리 알려진 방법이지만, 캡슐화 측면에서 합성이 더 좋은 방법이다.  
유연한 객체지향 프로그램일 수록 compile time 의존성과 runtime 의존성이 다르다.  

## 객체지향의 핵심
협력, 책임, 역할  

## 객체지향이란
객체지향의 본질은 자율적인 객체들의 공동체를 창조하는 것이다.  
객체란 상태와 행동을 함께 캡슐화하는 샐행 단위다.  

## 협력
애플리케이션의 기능을 구현하기 위해 수행하는 자율적인 객체간 상호작용을 의미한다.  
협력을 구성하는 객체끼리 요청과 응답의 흐름을 통해 애플리케이션의 기능이 구현된다.  

### 메시지 vs 메서드
메시지 전송(Message Sending)이란 협력안에서 객체끼리 통신할 수 있는 유일한 커뮤니케이션 수단이다.  
메서드는 메시지를 수신한 객체가 메시지를 처리할 방법으로 스스로 정의한 것이다.  
객체 외부는 메시지로 소통하고 내부 구현은 메서드로 캡슐화한다.  

### 협력을 고려한 설계순서
1. 객체가 참여하고 있는 협력(문맥) 파악  
2. 내부 구현을 캡슐화한 객체의 행동 결정  
3. 객체의 행동을 수행하는 데 필요한 객체의 상태 결정  

협력 -> 메시지 -> 메서드(객체 행동) -> 객체 상태 

## 책임
협력에 참여하기 위해 객체가 수행하는 행동이다.  
하는 것(doing)과 아는 것(knowing)으로 나뉜다.  
ex) 영화 예매 시스템에서 Movie 객체에게 할당된 책임  
- 하는 것: 영화 가격을 계산하기 위해 calculateMovieFee를 구현한다.  
- 아는 것: Screening 객체에게 calculateMovieFee 메시지를 수신하고 영화 가격을 계산하기 위해 fee와 discountPolicy를 속성으로 가진다.  

객체지향 설계에서 가장 중요한 것은 책임이다.  
객체에게 얼마나 적절한 책임을 할당하느냐에 전체적인 품질을 결정한다.  

### CRC 카드
Candidate(후보), Responsibility(책임), Collaborator(협력자)  
역할을 식별하고 책임을 할당하며 협력을 명시적으로 표현하는 설계 기법이다.  

### 책임 할당
자율적인 객체를 만들기 위해선 책임을 수행하는 데 필요한 정보를 가장 잘 알고 있는 전문가에게 그 책임을 할당해야 한다.  
정보 전문가에게 책임을 할당하는 것을 Information Expert Pattern(정보 전문가 패턴)이라고 한다.  
정보 전문가 

### 협력, 책임을 고려한 설계 순서  
협력 -> 책임(아는 것, 하는 것) -> 메시지 -> 메시지를 처리할 정보 전문가에게 책임 할당 -> 메서드(객체 행동) -> 객체 상태  

## 역할
특정 협력안에 수행하는 책임들의 집합이다.  

