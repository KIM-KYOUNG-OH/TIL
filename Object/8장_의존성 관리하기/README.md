# 8장 의존성 관리하기

협력안에서 의존성은 결국 필연적이다

의존성을 잘 관리하는 것이 객체 지향 설계의 품질을 결정한다

의존성이란 변경 발생시 그 파급 효과가 전파되는 정도를 의미한다

객체 지향 설계에서의 의존성은 컴파일 타임에는 인터페이스나 추상 클래스에 의존하고 런타임엔 구체화된 인스턴스에 의존하여 구조에 유연한 것이 특징이다

# 컨텍스트 독립성

오퍼레이션이 작고 단순할수록 다른 협력에서 재사용될 확률이 높아진다

# 의존성 해결

컴파일 타임 의존성을 런타임에 적절히 교체하는 것

1. 생성자를 사용
    - 생성자의 인자로 주입할 인스턴스 전달
2. setter 메서드 사용
    - 객체를 생성한 이후에도 의존 대상을 변경할 수 있다
    - 다만 객체가 불안정해서 NullPointerException 발생 여지가 있다
3. 메서드 실행시 인자를 사용
    - 메서드 실행중에만 유효함

# 재사용성과 의존성

컨텍스트 독립성을 보장하는 것은 재사용하기 쉽게 만드는 것이다

추상 클래스나 인터페이스를 이용해서 객체간 결합도를 낮추고 이는 곧 컨텍스트 독립성을 보장하기 때문에 변경과 재사용성이 높아진다

# 의존성을 높이는 new 키워드

- new 키워드는 강결합을 유발하는 것과 동시에 객체 내부 인자를 노출한다
- 이를 해결하기 위해 인스턴스를 생성하는 로직과 인스턴스를 사용하는 로직을 분리한다

# 결론

캡슐화를 통한 올바른 의존성 관리가 이루어지면 유연하고 재사용 가능한 설계를 할 수 있다

객체 지향의 캡슐화는 컴파일 타임에는 추상 클래스나 인터페이스에 의존하고 런타임에는 객체에만 의존하는 것이다

인스턴스 생성 책임은 클라이언트에 위임하고 컴파일 타임에는 추상화 클래스에만 의존하도록 설계한다
