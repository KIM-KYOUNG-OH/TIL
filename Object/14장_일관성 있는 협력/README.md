# 14장 일관성 있는 협력

# 일관성 있는 협력 패턴의 장점

- 코드 가독성이 높아지고 유연해진다

# 일관성 있는 협력 패턴 구현하기

변하는 부분과 변하지 않는 부분 분리하기(캡슐화)

변하지 않는 부분은 재사용하고 협력의 문맥을 제공

변하는 부분은 숨기고 서브타입을 추가하는 것 만으로 손쉽게 기능을 확장할 수 있다

변하지 않는 부분만을 공개하고 변하는 부분은 숨기며 개발하는 것이 일종의 제약이며 개발의 일관성을 높이고 장기적으로 개발의 노력과 시간을 아낄 수 있는 방법이다

# 결론

설계는 초반에만 해당하는게 아니라 지속적으로 행하는 것이다

설계의 궁극적인 목표는 가독성을 높이고 요구사항의 변경이 발생하더라도 협력의 일관성은 해치지 않고 변경을 수용하는 구조를 만드는 것이다

지속적으로 구조를 개선하다보면 햅력 패턴이 드러나게 될 것이다

# Stream이란?

- 개발자가 직접 외부 반복문을 통해 데이터의 상태를 변경하는 방식과 다르게 원래 데이터 구조를 변경하지 않고 파이프라인만 정의하여 결과만 반환하는 방식

# Stream의 장점

- 람다식이나 메소드 참조만을 이용하여 코드가 간결해진다
- stateful하거나 데이터 구조를 변경하는 외부 반복과 달리 데이터 구조를 변경하지 않고 결과만 반환하는 내부 반복 방식이므로 스레드와 락을 걱정하지 않아도 되기 때문에 병렬 프로그래밍에 유리함

# 스트림 중간 연산 메서드

- map
    - 요소를 적절한 로직으로 변환
- filter
    - 조건에 해당하는 요소만 리턴
- flatMap
    - 1차원 배열 원소 스트림으로 리턴

# 스트림 최종 연산 메서드

- forEach
    - 모든 요소를 출력
- collect
    - Collection 타입으로 출력
- match
    - 조건에 해당하는 객체가 존재하는지 여부 리턴
- reduce
    - 모든 요소를 단일 값으로 리턴
- find
    - 조건에 해당하는 요소 리턴
